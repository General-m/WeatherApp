(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],[,,,function(e,t,a){e.exports={container:"ForecastNextCard_container__597b1",slider:"ForecastNextCard_slider__2yMGc",slider__prev:"ForecastNextCard_slider__prev__3dPDQ",slider__next:"ForecastNextCard_slider__next__2qJBq","slider-disabled":"ForecastNextCard_slider-disabled__1Wzj8",forecast:"ForecastNextCard_forecast__1KQJj"}},,,function(e,t,a){e.exports={card:"WeatherCard_card__1K-Xq",card__fullWidth:"WeatherCard_card__fullWidth__8LGIL",card__date:"WeatherCard_card__date__t5Jmq",card__image:"WeatherCard_card__image__1jW9J",card__temperature:"WeatherCard_card__temperature__36jzk"}},,,function(e,t,a){e.exports={label__wrapper:"SelectCity_label__wrapper__1yuSb",input__city:"SelectCity_input__city__1dHRY"}},function(e,t,a){e.exports={forecast:"ForecastPast_forecast__3mHhV",select:"ForecastPast_select__3K3f0"}},function(e,t,a){e.exports={content__image:"ForecastEmpty_content__image__3qKSy",content:"ForecastEmpty_content__Ue1TT",content__message:"ForecastEmpty_content__message__3EeR4"}},function(e,t,a){e.exports={forecast:"ForecastPresent_forecast__14Fkp",select:"ForecastPresent_select__1lqAA",leftArrow:"ForecastPresent_leftArrow__37W26",rightArrow:"ForecastPresent_rightArrow__1dA-l"}},function(e,t,a){e.exports={header:"Header_header__1VCKf",title:"Header_title__3SH2Q",title__span:"Header_title__span__3H-Ek"}},,function(e,t,a){e.exports={select:"SelectDate_select__3nCTK",input__date:"SelectDate_input__date__17tFt"}},function(e,t,a){e.exports={container:"App_container__16xz_",main:"App_main__w13HL"}},,function(e,t,a){e.exports={footer:"Footer_footer__1w0lV"}},function(e,t,a){e.exports={forecast__title:"ForecastHeader_forecast__title__1DQ57"}},function(e,t,a){e.exports={container:"ForecastPastCard_container__2-bRg",leftArrow:"ForecastPastCard_leftArrow__2MMzH",rightArrow:"ForecastPastCard_rightArrow__jy-N1",forecast:"ForecastPastCard_forecast__21Cjj"}},,,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(17),s=a.n(r),o=(a(26),a(18)),i=a.n(o),l=a(0),_=function(){return Object(l.jsx)("footer",{className:i.a.footer,children:"C \u041b\u042e\u0411\u041e\u0412\u042c\u042e \u041e\u0422 MERCURY DEVELOPMENT"})},u=a(2),d=Object(c.createContext)({context:"",setContext:function(){}}),j=Object(c.createContext)({contextT:0,setContextT:function(){}}),p=a(19),b=a.n(p),f=function(e){var t=e.title;return Object(l.jsx)("h2",{className:b.a.forecast__title,children:t})},x=a(9),O=a.n(x),h={Kazan:{lat:55.796127,lon:49.106405},Krasnodar:{lat:45.03547,lon:38.975313},Samara:{lat:53.195873,lon:50.100193},Saratov:{lat:51.533557,lon:46.034257},Togliatti:{lat:53.507836,lon:49.420393}},m=function(){var e=Object(c.useContext)(d),t=Object.keys(h);return Object(l.jsxs)("div",{className:O.a.label__wrapper,children:[Object(l.jsx)("label",{className:O.a.form__input,children:Object(l.jsx)("input",{className:O.a.input__city,type:"text",onChange:function(t){return function(t){e.setContext(t.target.value)}(t)},placeholder:"Select city",list:"lst"})}),Object(l.jsx)("datalist",{id:"lst",children:t.map((function(e,t){return Object(l.jsx)("option",{value:e},t)}))})]})},v=a(15),C=a.n(v),g=function(){var e=Object(c.useContext)(j),t=Object(c.useState)(0),a=Object(u.a)(t,2),n=(a[0],a[1]);return Object(l.jsx)("div",{className:C.a.select,children:Object(l.jsx)("input",{className:C.a.input__date,type:"date",onChange:function(t){return function(t){e.setContextT(Date.parse(t.target.value)/1e3),t.preventDefault(),n((function(e){return Date.parse(t.target.value)/1e3}))}(t)}})})},w=a(10),N=a.n(w),y=a(20),F=a.n(y),S=a(6),P=a.n(S),D=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],A=function(e){var t=e.forecast,a=e.style;return Object(l.jsxs)("div",{className:P.a.card,style:a,children:[Object(l.jsx)("div",{className:P.a.card__date,children:new Date(t.date).getDate()+" "+D[new Date(t.date).getMonth()]+" "+new Date(t.date).getFullYear()}),Object(l.jsx)("div",{className:P.a.card__image,children:Object(l.jsx)("img",{width:"80px",height:"80px",src:t.icon,alt:"weather icon"})}),Object(l.jsxs)("div",{className:P.a.card__temperature,children:[t.temp>0?"+"+t.temp:"-"+t.temp,"\xb0"]})]})},E=a(11),k=a.n(E),T=function(){return Object(l.jsxs)("section",{className:k.a.content,children:[Object(l.jsx)("div",{className:k.a.content__image}),Object(l.jsx)("div",{className:k.a.content__message,children:"Fill in all the fields and the weather will be displayed"})]})},W=a(4),H=a.n(W),M=a(8),K="630198738706e6feb41dd55034d68b96",z=function(e,t,a){return"https://api.openweathermap.org/data/2.5/onecall/timemachine?lat=".concat(e,"&lon=").concat(t,"&units=metric&dt=").concat(a,"&appid=").concat(K)},q=function(){var e=Object(M.a)(H.a.mark((function e(t,a,c){var n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(z(t,a,c));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),console.error(e.t0.message),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a,c){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.useContext)(d),t=Object(c.useContext)(j),a=e.context,n=t.contextT,r=Object(c.useState)(!1),s=Object(u.a)(r,2),o=s[0],i=s[1],_=Object(c.useState)(0),p=Object(u.a)(_,2),b=p[0],f=p[1],x=Object(c.useState)(""),O=Object(u.a)(x,2),m=O[0],v=O[1],C=Object(c.useState)(0),g=Object(u.a)(C,2),w=g[0],N=g[1];return Object(c.useEffect)((function(){a&&h[a]&&n&&q(h[a].lat,h[a].lon,n).then((function(e){console.log(e),f(Math.round(e.current.temp)),v("https://openweathermap.org/img/w/".concat(e.current.weather[0].icon,".png")),N(1e3*e.current.dt-1e3*e.timezone_offset),i(!0)})),i(!1)}),[a,n]),o?Object(l.jsx)("section",{className:F.a.container,children:Object(l.jsx)(A,{style:{width:" 54.4rem"},forecast:{date:w,icon:m,temp:b}})}):Object(l.jsx)(T,{})},R=function(){var e=Object(c.useState)(),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(),s=Object(u.a)(r,2),o={context:a,setContext:n},i={contextT:s[0],setContextT:s[1]};return Object(l.jsx)(d.Provider,{value:o,children:Object(l.jsx)(j.Provider,{value:i,children:Object(l.jsxs)("article",{className:N.a.forecast,children:[Object(l.jsxs)("section",{className:N.a.forecast__header,children:[Object(l.jsx)(f,{title:"Forecast for a Date in the Past"}),Object(l.jsxs)("div",{className:N.a.select,children:[Object(l.jsx)(m,{}),Object(l.jsx)(g,{})]})]}),Object(l.jsx)(J,{})]})})})},L=a(12),Q=a.n(L),V=a(21),Y=a(3),B=a.n(Y),G=function(e,t){return"https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e,"&lon=").concat(t,"&units=metric&exclude=current,minutely,hourly,alerts&appid=").concat(K)},I=function(){var e=Object(M.a)(H.a.mark((function e(t,a){var c,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(G(t,a));case 3:return c=e.sent,e.next=6,c.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),console.error(e.t0.message),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(c.useContext)(d).context,t=Object(c.useState)(!1),a=Object(u.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(0),o=Object(u.a)(s,2),i=o[0],_=o[1],j=Object(c.useState)(3),p=Object(u.a)(j,2),b=p[0],f=p[1],x=Object(c.useState)(7),O=Object(u.a)(x,2),m=O[0],v=(O[1],Object(c.useState)([])),C=Object(u.a)(v,2),g=C[0],w=C[1];Object(c.useEffect)((function(){e&&h[e]&&I(h[e].lat,h[e].lon).then((function(e){Object.keys(e.daily).map((function(t,a){if(a<m){var c={date:0,icon:"",temp:0};c.date=1e3*e.daily[t].dt-1e3*e.timezone_offset,c.icon="https://openweathermap.org/img/w/".concat(e.daily[t].weather[0].icon,".png"),c.temp=Math.round(e.daily[t].temp.day),w((function(e){return[].concat(Object(V.a)(e),[c])}))}return null})),r(!0)})),r(!1)}),[e]);return n?Object(l.jsxs)("section",{className:B.a.container,children:[Object(l.jsx)("div",{onClick:function(){i&&(_((function(e){return e-1})),f((function(e){return e-1})))},className:"".concat(B.a.slider," ").concat(B.a.slider__prev," \n       ").concat(i?"":B.a["slider-disabled"])}),g.map((function(e,t){if(i<=t&&t<b)return Object(l.jsx)(A,{forecast:e},t)})),Object(l.jsx)("div",{onClick:function(){b+1<m&&(_((function(e){return e+1})),f((function(e){return e+1})))},className:"".concat(B.a.slider," ").concat(B.a.slider__next," \n     ").concat(b+1===m?B.a["slider-disabled"]:"")})]}):Object(l.jsx)(T,{})},X=function(){var e=Object(c.useState)(),t=Object(u.a)(e,2),a={context:t[0],setContext:t[1]};return Object(l.jsx)(d.Provider,{value:a,children:Object(l.jsxs)("article",{className:Q.a.forecast,children:[Object(l.jsxs)("section",{className:Q.a.forecast__header,children:[Object(l.jsx)(f,{title:"7 Days Forecast"}),Object(l.jsx)("div",{className:Q.a.select,children:Object(l.jsx)(m,{})})]}),Object(l.jsx)(U,{})]})})},Z=a(13),$=a.n(Z),ee=function(){return Object(l.jsx)("header",{className:$.a.header,children:Object(l.jsxs)("h1",{className:$.a.title,children:["Weather",Object(l.jsx)("span",{className:$.a.title__span,children:"forecast"})]})})},te=a(16),ae=a.n(te),ce=function(){return Object(l.jsxs)("div",{className:ae.a.container,children:[Object(l.jsx)(ee,{}),Object(l.jsxs)("main",{className:ae.a.main,children:[Object(l.jsx)(X,{}),Object(l.jsx)(R,{})]}),Object(l.jsx)(_,{})]})};s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(ce,{})}),document.getElementById("root"))}],[[29,1,2]]]);
//# sourceMappingURL=main.17d8c77d.chunk.js.map